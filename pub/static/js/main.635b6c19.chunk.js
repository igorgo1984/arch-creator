(this["webpackJsonpreact-frame"]=this["webpackJsonpreact-frame"]||[]).push([[0],{176:function(e,t,a){e.exports=a(215)},181:function(e,t,a){},187:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=(a(181),a(16)),i=a.n(o),l=a(12),s=a(76),u=a(77),d=a(158),m=a(127),E=a(159),f=a(98),p=a(4),h=a(8),g=(a(187),a(6)),v=a(30),b=function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(v.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}},_=a(55),w=a.n(_),O=a(300),I=a(271),P=a(270),y=a(220),N=a(137),S=a.n(N),R=a(136),C=a.n(R),F=a(138),T=a.n(F),k=a(139),j=a.n(k),A=a(133),L=a.n(A),x=a(134),D=a.n(x),X=a(129),W=a.n(X),G=a(32),U=Object(G.a)((function(e){return{store:e.Menu}}))(Object(f.d)(Object(p.a)(b,{withTheme:!0})((function(e){var t={};return e.path===e.store.location.pathname&&(t={backgroundColor:"rgb(218, 218, 218)"}),r.a.createElement(W.a,{button:!0,style:t,onClick:function(){return e.history.push(e.path)},disabled:e.disabled||!1},r.a.createElement(L.a,null,e.children),r.a.createElement(D.a,{primary:e.label||"Unknown"}))})))),M=Object(h.b)((function(e){return{store:e.Menu}}),(function(e){return{close:function(){return e({type:"".concat(g.PREFIX_MENU,"_CLOSE")})},open:function(){return e({type:"".concat(g.PREFIX_MENU,"_OPEN")})}}}))(Object(p.a)(b,{withTheme:!0})((function(e){var t=e.classes,a=e.theme,n=e.store.isOpen;return r.a.createElement(O.a,{variant:"permanent",classes:{paper:w()(t.drawerPaper,!n&&t.drawerPaperClose)},open:n},r.a.createElement("div",{className:t.toolbar},r.a.createElement(y.a,{onClick:e.close},"rtl"===a.direction?r.a.createElement(C.a,null):r.a.createElement(S.a,null))),r.a.createElement(P.a,null),r.a.createElement(I.a,null,r.a.createElement(U,{label:"Settings",path:"/"},r.a.createElement(T.a,null)),r.a.createElement(U,{label:"Archive profile",path:"/arch/profiles"},r.a.createElement(j.a,null))))}))),H=a(90),V=a.n(H),B=a(141),z=a.n(B),J=a(142),K=a.n(J),Y=a(140),q=a.n(Y),Q=Object(G.a)((function(e){return{store:e.Menu}}),(function(e){return{open:function(){return e({type:"".concat(g.PREFIX_MENU,"_OPEN")})}}}))(Object(p.a)(b,{withTheme:!0})((function(e){var t=e.classes,a=e.store.isOpen;return r.a.createElement(q.a,{position:"absolute",className:w()(t.appBar,a&&t.appBarShift)},r.a.createElement(V.a,{disableGutters:!a},r.a.createElement(z.a,{color:"inherit","aria-label":"Open drawer",onClick:e.open,className:w()(t.menuButton,a&&t.hide)},r.a.createElement(K.a,null)),"Power by",r.a.createElement("a",{href:"https://drive.google.com/file/d/1tm6j8uGoeEbaVDYKlsQlkkxAD5WMXp3-/view?usp=sharing",style:{color:"red",marginLeft:3},target:"_blank  "},"Igor Stcherbina")))}))),$="OK",Z="BAD",ee="WARN",te="OK",ae="BAD",ne="WARN",re=function(e){return{type:"".concat(g.PREFIX_ALERT,"_OPEN"),data:{message:e,showIcon:ae,type:Z}}},ce=function(e){return{type:"".concat(g.PREFIX_ALERT,"_OPEN"),data:{message:e,showIcon:te,type:$}}},oe=a(277),ie=a(272),le=a(276),se=a(274),ue=a(275),de=a(273),me=a(143),Ee=a.n(me),fe=a(144),pe=a.n(fe),he=a(66),ge=a.n(he),ve={marginRight:2},be=Object(G.a)((function(e){return{store:e.Alert}}),(function(e){return{close:function(){return e({type:"".concat(g.PREFIX_ALERT,"_CLOSE")})}}}))(Object(p.a)(b,{withTheme:!0})((function(e){var t=e.classes,a="",n={backgroundColor:"#e0e0e0",color:"#000"};if(e.store.isShowIcon)switch(e.store.showIcon){case te:a=r.a.createElement(Ee.a,{style:ve});break;case ae:a=r.a.createElement(ge.a,{style:ve});break;case ne:a=r.a.createElement(pe.a,{style:ve})}switch(e.store.type){case $:n={backgroundColor:"#2196f3",color:"#fff"};break;case Z:n={backgroundColor:"#f50057",color:"#fff"};break;case ee:n={backgroundColor:"#ffeb3b",color:"#000"}}return r.a.createElement("div",null,r.a.createElement(ie.a,{open:e.store.isOpen,onClose:e.close,scroll:"paper","aria-labelledby":"scroll-dialog-title"},r.a.createElement(de.a,{id:"scroll-dialog-title"},"System message"),r.a.createElement(se.a,null,r.a.createElement(ue.a,null,e.store.message)),r.a.createElement(le.a,null,r.a.createElement("div",null,r.a.createElement(oe.a,{className:t.button,style:n,onClick:e.close},a,e.store.labelOk)))))}))),_e=a(43),we=a(145),Oe=a(146),Ie=a(147),Pe={isOpen:!1,type:$,message:"",isShowIcon:!0,showIcon:te,labelOk:"Read"},ye={isOpen:!0,location:!1},Ne={isLoad:!1,order:"desc",orderBy:"name",selected:[],rowsPerPage:20,page:0,search:"",defaultSaveArchDir:"",OwnCloudLogin:"",OwnCloudPassword:"",OwnCloudIsShowPassword:!1,OwnCloudUri:"",profiles:[],errorMessages:[],header:[{id:"Action",numeric:!1,disablePadding:!0,label:"Actions"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]},Se={isNew:!0,name:"",files:[],dirSave:"",isUploadToOwnCloud:!1,errorMessages:[]},Re={profileName:"",isCreate:!1,report:{}},Ce=a(71),Fe=Object(_e.combineReducers)({routing:Ce.routerReducer,ArchiveCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g.PREFIX_NEW_ARCHIVE,"_CHANGE_FIELD"):return Object(l.a)({},e,Object(v.a)({},t.data.field,t.data.value));case"".concat(g.PREFIX_NEW_ARCHIVE,"_USE_PROFILE"):return Object(l.a)({},e,{profileName:t.data});default:return e}},ProfileNew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g.PREFIX_NEW_PROFILE,"_EDIT"):return Object(l.a)({},Se,{},t.data,{isNew:!1});case"".concat(g.PREFIX_NEW_PROFILE,"_DEFAULT_DIR_SAVE"):return Object(l.a)({},Se,{dirSave:t.data,isNew:!0});case"".concat(g.PREFIX_NEW_PROFILE,"_SET_ERRORS"):return Object(l.a)({},e,{errorMessages:t.data});case"".concat(g.PREFIX_NEW_PROFILE,"_MOVE_FILE_FROM_LIST"):return Object(l.a)({},e,{files:e.files.filter((function(e){return e!==t.data}))});case"".concat(g.PREFIX_NEW_PROFILE,"_ADD_FILES_TO_ARCH"):return Object(l.a)({},e,{files:e.files.concat(t.data||[])});case"".concat(g.PREFIX_NEW_PROFILE,"_CHANGE_FIELD"):return Object(l.a)({},e,Object(v.a)({},t.data.field,t.data.value));default:return e}},Settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g.PREFIX_SETTINGS,"_EDIT_PROFILE"):return Object(l.a)({},e,{profiles:e.profiles.map((function(e){return e.name===t.data.name&&(e.files=t.data.files,e.dirSave=t.data.dirSave,e.isUploadToOwnCloud=t.data.isUploadToOwnCloud),e}))});case"".concat(g.PREFIX_SETTINGS,"_PROFILE_CHANGE_ACTIVE"):return Object(l.a)({},e,{profiles:e.profiles.map((function(e){return e.name===t.data.name&&(e.isActive=t.data.isActive),e}))});case"".concat(g.PREFIX_SETTINGS,"_PROFILE_DELETE"):return Object(l.a)({},e,{profiles:e.profiles.filter((function(e){return e.name!==t.data}))});case"".concat(g.PREFIX_SETTINGS,"_NEW_PROFILE"):return Object(l.a)({},e,{profiles:e.profiles.concat([t.data])});case"".concat(g.PREFIX_SETTINGS,"_CHANGE_SEARCH"):return Object(l.a)({},e,{search:t.data});case"".concat(g.PREFIX_SETTINGS,"_SET_APP_CONFIG"):var a=t.data,n=a.defaultSaveArchDir,r=a.ownCloudLogin,c=a.ownCloudPassword,o=a.ownCloudUri,i=a.profiles;return Object(l.a)({},e,{profiles:i||[],defaultSaveArchDir:n||"",OwnCloudLogin:r||"",OwnCloudPassword:c||"",OwnCloudUri:o||""});case"".concat(g.PREFIX_SETTINGS,"_SET_LOAD"):return Object(l.a)({},e,{isLoad:t.data});case"".concat(g.PREFIX_SETTINGS,"_CHANGE_FIELD"):return Object(l.a)({},e,Object(v.a)({},t.data.field,t.data.value));case"".concat(g.PREFIX_SETTINGS,"_SET_DEFAULT_DIR"):return Object(l.a)({},e,{defaultSaveArchDir:t.data});case"".concat(g.PREFIX_SETTINGS,"_SET_ERRORS"):return Object(l.a)({},e,{errorMessages:t.data});default:return e}},Alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g.PREFIX_ALERT,"_CLOSE"):return Object(l.a)({},Pe);case"".concat(g.PREFIX_ALERT,"_OPEN"):return Object(l.a)({},e,{},t.data,{isOpen:!0})}return e},Menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g.PREFIX_MENU,"_OPEN"):return Object(l.a)({},e,{isOpen:!0});case"".concat(g.PREFIX_MENU,"_CLOSE"):return Object(l.a)({},e,{isOpen:!1});case g.PREFIX_UPDATE_LOCATION:return Object(l.a)({},e,{location:t.location})}return e}}),Te=a(36),ke=Object(Oe.createLogger)(),je=Object(Te.a)(),Ae=Object(_e.createStore)(Fe,Object(Ie.composeWithDevTools)(Object(_e.applyMiddleware)(we.a,ke,Object(Ce.routerMiddleware)(je)))),Le=Object(Ce.syncHistoryWithStore)(je,Ae),xe=(a(214),function(e){for(var t=[],a=1;a<6;++a)t.push(r.a.createElement("div",{className:"sk-rect sk-rect".concat(a),key:"dk-rect".concat(a)}));return r.a.createElement("div",null,e.isNoLabel?"":r.a.createElement("div",null,"Loading..."),r.a.createElement("div",{className:"sk-wave"},t))}),De=function(){function e(t){var a=t.code,n=t.data,r=t.type;Object(s.a)(this,e),this._data=n,this._code=a,this._type=r||0}return Object(u.a)(e,[{key:"data",get:function(){return this._data}},{key:"code",get:function(){return this._code}},{key:"isMessage",get:function(){return 1===this._type}},{key:"isOk",get:function(){return this._code>=200&&this._code<300}},{key:"errorMessage",get:function(){return"Bad response code ".concat(this.code,", message ").concat(this.isMessage?this._data:JSON.stringify(this._data))}}]),e}(),Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return new Promise((function(n,r){if(!window.astilectron)return console.log("You try send",e,t,a),r(new Error("This not astilectron"));window.astilectron.sendMessage({url:e,data:t,method:a},(function(e){var t=new De(e);if(t.isOk)return n(t);r(new Error(t.errorMessage))}))}))},We=a(285),Ge=a(3),Ue=a(279),Me=a(278),He={error:ge.a},Ve=Object(Me.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center",width:"100%"}}})),Be=Object(h.b)((function(e){return{store:e.Settings}}))((function(e){var t=Ve(),a=e.store.errorMessages,n=He.error;return!!a.length&&r.a.createElement(Ue.a,{className:Object(Ge.default)(t.error),"aria-describedby":"client-snackbar",message:r.a.createElement("div",null,r.a.createElement("div",{id:"client-snackbar",className:t.message},r.a.createElement(n,{className:Object(Ge.default)(t.icon,t.iconVariant)})," Validation errors:"),a.map((function(e){return r.a.createElement("div",{key:"err_mess_".concat(e)},e)})))})})),ze=a(299),Je=a(280),Ke=a(59),Ye=a(281),qe=a(282),Qe=a(298),$e=a(283),Ze=a(284),et=a(92),tt=a.n(et),at=a(151),nt=a.n(at),rt=a(150),ct=a.n(rt),ot=a(108),it=a.n(ot),lt=a(149),st=a.n(lt),ut=a(91),dt=a.n(ut),mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){if(!window.astilectron)return a(new Error("Astilectron not found"));window.astilectron.showOpenDialog(e,(function(e){return t(e)}))}))},Et=Object(Me.a)((function(e){return{w100:{width:"100%"},root:{display:"flex",flexWrap:"wrap"},marginRight:{marginRight:e.spacing(1)},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},headingPanel:{backgroundColor:"#3f51b5",color:"#fff"}}})),ft=Object(h.b)((function(e){return{store:e.Settings}}),(function(e){return{alert:function(t){return e(t)},setDefaultDir:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_SET_DEFAULT_DIR"),data:t})},changeField:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_CHANGE_FIELD"),data:t})}}}))((function(e){var t=Et(),a=e.store,n=e.alert,c=e.setDefaultDir,o=e.changeField,l=a.defaultSaveArchDir,s=a.OwnCloudLogin,u=a.OwnCloudPassword,d=a.OwnCloudIsShowPassword,m=a.OwnCloudUri,E=function(e,t){return o({field:e,value:t})};return r.a.createElement("div",{className:t.root},r.a.createElement(ze.a,{className:t.w100},r.a.createElement(Je.a,{className:t.headingPanel,expandIcon:r.a.createElement(dt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(it.a,{className:Object(Ge.default)(t.marginRight)}),r.a.createElement(Ke.a,{className:t.heading},"Own cloud section")),r.a.createElement(Ye.a,null,r.a.createElement("div",{className:Object(Ge.default)(t.w100)},r.a.createElement(qe.a,{fullWidth:!0,className:Object(Ge.default)(t.margin,t.w100)},r.a.createElement(Qe.a,{htmlFor:"OwnCloudUri"},"Own cloud uri"),r.a.createElement($e.a,{id:"OwnCloudUri",value:m,startAdornment:r.a.createElement(Ze.a,{position:"start"},r.a.createElement(it.a,null)),onChange:function(e){return E("OwnCloudUri",e.target.value)}})),r.a.createElement(qe.a,{fullWidth:!0,className:Object(Ge.default)(t.margin,t.w100)},r.a.createElement(Qe.a,{htmlFor:"OwnCloudLogin"},"Own cloud login"),r.a.createElement($e.a,{id:"OwnCloudLogin",value:s,startAdornment:r.a.createElement(Ze.a,{position:"start"},r.a.createElement(st.a,null)),onChange:function(e){return E("OwnCloudLogin",e.target.value)}})),r.a.createElement(qe.a,{fullWidth:!0,className:Object(Ge.default)(t.margin,t.w100)},r.a.createElement(Qe.a,{htmlFor:"OwnCloudPassword"},"Own cloud password"),r.a.createElement($e.a,{id:"OwnCloudPassword",type:d?"text":"password",value:u,onChange:function(e){return E("OwnCloudPassword",e.target.value)},startAdornment:r.a.createElement(Ze.a,{position:"start"},r.a.createElement(y.a,{"aria-label":"toggle password visibility",onClick:function(){return o({field:"OwnCloudIsShowPassword",value:!d})}},d?r.a.createElement(ct.a,null):r.a.createElement(nt.a,null)))}))))),r.a.createElement(qe.a,{fullWidth:!0,className:Object(Ge.default)(t.margin,t.w100)},r.a.createElement(Qe.a,{htmlFor:"standard-adornment-password"},"Default archive dir save"),r.a.createElement($e.a,{id:"standard-adornment-password",value:l,onChange:function(){console.log("Save form")},startAdornment:r.a.createElement(Ze.a,{position:"start"},r.a.createElement(y.a,{"aria-label":"toggle password visibility",onClick:function(){return function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(mt({title:"Select dir default archive for save",properties:["openDirectory"]}));case 3:if((e=t.sent)&&e.length){t.next=6;break}return t.abrupt("return",!1);case 6:c(e.pop()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(re(t.t0.message?t.t0.message:t.t0));case 12:case"end":return t.stop()}}),null,null,[[0,9]])}()}},r.a.createElement(tt.a,null)))})))})),pt=a(93),ht=a.n(pt),gt=Object(Me.a)((function(e){return{root:{margin:15}}})),vt=Object(h.b)((function(e){return{store:e.Settings}}),(function(e){return{alert:function(t){return e(t)}}}))((function(e){var t=gt(),a=e.store,n=a.defaultSaveArchDir,c=a.OwnCloudLogin,o=a.OwnCloudPassword,l=a.OwnCloudUri;return r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:function(){return function(){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={defaultSaveArchDir:n,OwnCloudLogin:c,OwnCloudPassword:o,OwnCloudUri:l},a.prev=1,a.next=4,i.a.awrap(Xe("/app/config/set",t));case 4:e.alert(ce("Config updated")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),e.alert(re(a.t0.message||a.t0));case 10:case"end":return a.stop()}}),null,null,[[1,7]])}()}},r.a.createElement(ht.a,null)," Save"))})),bt=Object(h.b)((function(e){return{store:e.Settings}}))((function(e){return e.store.isLoad?r.a.createElement("div",null,r.a.createElement(xe,{isNoLabel:!0})):r.a.createElement("div",null,r.a.createElement("h2",null,"Settings"),r.a.createElement(We.a,{container:!0,spacing:3},r.a.createElement(We.a,{item:!0,xs:12},r.a.createElement(Be,null),r.a.createElement(ft,null))),r.a.createElement(vt,null))})),_t=a(290),wt=a(291),Ot=a(288),It=a(295),Pt=a(287),yt=a(86),Nt=a(286),St=a(302),Rt=a(301),Ct=Object(h.b)((function(e){return{store:e.Settings}}),(function(e){return{setOrder:function(t,a){return e({type:"".concat(g.PREFIX_SETTINGS,"_SET_ORDER"),data:{orderBy:t,order:a}})}}}))(Object(p.a)(b,{withTheme:!0})((function(e){var t=e.store,a=t.order,n=t.orderBy,c=t.header;return r.a.createElement(Nt.a,null,r.a.createElement(Pt.a,null,c.map((function(t){var c,o=t.numeric?"true":"false";return r.a.createElement(Ot.a,{key:t.id,numeric:o,padding:"default",sortDirection:n===t.id&&a},r.a.createElement(St.a,{title:"Sort",placement:o?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(Rt.a,{active:n===t.id,direction:a,onClick:(c=t.id,function(t){return e.setOrder(c,n===c&&"desc"===a?"asc":"desc")})},r.a.createElement("span",{style:{paddingLeft:10}},t.label))))}),void 0)))}))),Ft=a(109),Tt=a.n(Ft),kt=a(297),jt=a(75),At=a(153),Lt=a.n(At),xt=Object(G.a)((function(e){return{store:e.Settings}}),(function(e){return{setSaveDirToNewProfile:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_DEFAULT_DIR_SAVE"),data:t})},changeSearch:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_CHANGE_SEARCH"),data:t.target.value})}}}))(Object(p.a)((function(e){return{root:{paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(jt.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 60%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}}))((function(e){var t=e.classes,a=e.setSaveDirToNewProfile,n=e.store,c=n.selected,o=n.profiles,i=n.defaultSaveArchDir,l=n.search,s=o.length,u=c.length;return r.a.createElement(V.a,{className:w()(t.root,Object(v.a)({},t.highlight,u>0))},r.a.createElement("div",{className:t.title},u>0?r.a.createElement(Tt.a,{variant:"h5",color:"inherit"},u," selected"):r.a.createElement(Tt.a,{variant:"h5",id:"tableTitle"},"List")),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},s?r.a.createElement(kt.a,{label:"Search",value:l,onChange:e.changeSearch}):null,r.a.createElement(St.a,{title:"Add to list"},r.a.createElement(y.a,{"aria-label":"Add to list",onClick:function(){a(i),Le.push("/arch/profile/new")}},r.a.createElement(Lt.a,null)))))}))),Dt=a(156),Xt=a.n(Dt),Wt=a(96),Gt=a.n(Wt),Ut=a(155),Mt=a.n(Ut),Ht=a(154),Vt=a.n(Ht),Bt=a(95),zt=a.n(Bt),Jt=Object(h.b)((function(e){return{store:e.Settings}}),(function(e){return{archCreate:function(t){return e({type:"".concat(g.PREFIX_NEW_ARCHIVE,"_USE_PROFILE"),data:t})},edit:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_EDIT"),data:t})},delete:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_PROFILE_DELETE"),data:t})},changeActive:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_PROFILE_CHANGE_ACTIVE"),data:t})},showError:function(t){return e({type:"".concat(g.PREFIX_ALERT,"_OPEN"),data:{message:t,showIcon:ae,type:Z}})}}}))(Object(p.a)((function(e){return{}}))((function(e){var t,a,n=e.row,c=e.store,o=c.isLoad,l=c.loadRow,s=function(){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={name:n.name,isActive:!n.isActive},a.next=4,i.a.awrap(Xe("/change/active/profile",t));case 4:e.changeActive(t),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.showError(a.t0.message||a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])};return n.isActive?(t=r.a.createElement(y.a,{"aria-label":"Change active",key:n.name+"_change_active",onClick:function(){return s()},color:"secondary"},r.a.createElement(Vt.a,{key:n.name+"_ico_active_off"})),a=r.a.createElement(St.a,{title:"Create archive",key:n.name+"_tl_archive"},r.a.createElement(y.a,{"aria-label":"Change active",key:n.name+"_create_archive",onClick:function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.archCreate(n.name),Le.push("/arch/new");case 2:case"end":return t.stop()}}))},color:"primary"},r.a.createElement(zt.a,{key:n.name+"_ico_archive"})))):(a=null,t=r.a.createElement(y.a,{"aria-label":"Change active",key:n.name+"_change_active",onClick:function(){return s()},color:"primary"},r.a.createElement(Mt.a,{key:n.name+"_ico_active_on"}))),r.a.createElement(Pt.a,{hover:!0,tabIndex:-1,key:n.name},r.a.createElement(Ot.a,null,o&&l===n.name?r.a.createElement(xe,null):[r.a.createElement(St.a,{title:"Delete",key:n.name+"_tl_delete",color:"secondary"},r.a.createElement(y.a,{"aria-label":"Delete",onClick:function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("You real want delete ".concat(n.name," profile"))){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,i.a.awrap(Xe("/delete/profile",{name:n.name}));case 5:e.delete(n.name),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.showError(t.t0.message||t.t0);case 11:case"end":return t.stop()}}),null,null,[[2,8]])},key:n.id+"_delete"},r.a.createElement(Gt.a,{key:n.name+"_ico_delete"}))),r.a.createElement(St.a,{title:"Edit",key:n.name+"_tl_edit",color:"primary"},r.a.createElement(y.a,{"aria-label":"Edit",onClick:function(){var t=n.name,a=n.files,r=n.dirSave,c=n.isUploadToOwnCloud;e.edit({name:t,files:a,dirSave:r,isUploadToOwnCloud:c}),Le.push("/arch/profile/edit")},key:n.id+"_edit"},r.a.createElement(Xt.a,{key:n.name+"_ico_edit"}))),r.a.createElement(St.a,{title:"Change active",key:n.name+"_tl_active"},t),a]),r.a.createElement(Ot.a,{component:"th",scope:"row",padding:"none"},n.name))}))),Kt=Object(h.b)((function(e){return{store:e.Settings}}),(function(e){return{setSelected:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_SET_SELECTED"),data:t})},setPage:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_SET_PAGE"),data:t})},setRowsOnPage:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_SET_ROWS_ON_PAGE"),data:{rowsPerPage:t}})}}}))(Object(p.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}}))((function(e){var t=e.classes,a=e.store,n=a.profiles,c=a.order,o=a.orderBy,i=a.selected,l=a.rowsPerPage,s=a.page,u=a.search,d=l-Math.min(l,n.length-s*l);return r.a.createElement(yt.a,{className:t.root},r.a.createElement(xt,{numSelected:i.length}),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(_t.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(Ct,null),r.a.createElement(wt.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(n,function(e,t){return"desc"===e?function(e,a){return Yt(e,a,t)}:function(e,a){return-Yt(e,a,t)}}(c,o)).slice(s*l,s*l+l).filter((function(e){return e.name.includes(u)})).map((function(e){return r.a.createElement(Jt,{row:e,key:"RowS_"+e.name})})),d>0&&r.a.createElement(Pt.a,{style:{height:l*d}},r.a.createElement(Ot.a,{colSpan:6},0===n.length?"Nothing show :)":""))))),n.length?r.a.createElement(It.a,{component:"div",count:n.length,rowsPerPage:l,page:s,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(t,a){return e.setPage(a)},onChangeRowsPerPage:function(t){return e.setRowsOnPage(t.target.value)}}):null)})));function Yt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var qt=Object(h.b)((function(e){return{store:e.Settings}}))((function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Archive profiles"),r.a.createElement(Kt,null))})),Qt=a(97),$t=a.n(Qt),Zt=Object(Me.a)((function(e){return{root:{margin:15},btn:{marginRight:3}}})),ea=Object(h.b)((function(e){return{store:e.ProfileNew,settings:e.Settings}}),(function(e){return{alert:function(t){return e(t)},updateProfile:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_EDIT_PROFILE"),data:t})},newProfile:function(t){return e({type:"".concat(g.PREFIX_SETTINGS,"_NEW_PROFILE"),data:t})},setErrors:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_SET_ERRORS"),data:t})}}}))((function(e){var t=Zt(),a=e.store,n=e.settings,c=e.updateProfile,o=e.newProfile,s=e.setErrors,u=e.alert,d=n.profiles,m=a.isNew,E=a.name,f=a.files,p=a.dirSave,h=a.isUploadToOwnCloud;return r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){return Le.push("/arch/profiles")}},r.a.createElement($t.a,null)," Cancel"),r.a.createElement(oe.a,{className:t.btn,variant:"contained",color:"primary",onClick:function(){return function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(s(e=[]),a.prev=2,m&&(E.length||e.push("Name is required"),void 0!==d.find((function(e){return e.name.trim().toLocaleLowerCase()===E.trim().toLocaleLowerCase()}))&&e.push("Profile with name ".concat(E," already exists"))),f.length||e.push("No files for create archive"),p.length||e.push("No set dir save archive"),!e.length){a.next=9;break}return s(e),a.abrupt("return",!1);case 9:if(t={name:E,files:f,dirSave:p,isUploadToOwnCloud:h},!m){a.next=16;break}return a.next=13,i.a.awrap(Xe("/new/profile",t));case 13:o(Object(l.a)({},t,{isActive:!1})),a.next=19;break;case 16:return a.next=18,i.a.awrap(Xe("/edit/profile",t));case 18:c(t);case 19:return a.next=21,i.a.awrap(Le.push("/arch/profiles"));case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(2),u(re(a.t0.message||a.t0));case 26:case"end":return a.stop()}}),null,null,[[2,23]])}()}},r.a.createElement(ht.a,null)," Save"))})),ta=a(110),aa=a.n(ta),na=a(293),ra=Object(Me.a)((function(e){return{root:{width:"100%"},headingPanel:{backgroundColor:"#3f51b5",color:"#fff"},heading:{fontSize:e.typography.pxToRem(18),fontWeight:e.typography.fontWeightRegular},iconOk:{marginRight:5,color:"rgb(0, 230, 118)"},iconWarn:{marginRight:5,color:"#ffeb3b"},button:{margin:e.spacing(1),marginRight:5}}})),ca=Object(h.b)((function(e){return{store:e.ProfileNew}}),(function(e){return{moveFile:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_MOVE_FILE_FROM_LIST"),data:t})},addFiles:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_ADD_FILES_TO_ARCH"),data:t})},alert:function(t){return e(t)}}}))((function(e){var t=ra(),a=e.store.files,n=r.a.createElement("div",null,r.a.createElement(Ke.a,null,"No files"));a.length&&(n=r.a.createElement("div",null,a.map((function(t,a){return r.a.createElement("p",{key:"path_"+t},r.a.createElement(oe.a,{key:"drop_"+t,onClick:function(){return e.moveFile(t)}},r.a.createElement(Gt.a,null)),t)}))));return r.a.createElement(ze.a,{defaultExpanded:!0},r.a.createElement(Je.a,{className:t.headingPanel,expandIcon:r.a.createElement(dt.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},r.a.createElement(Ke.a,{className:t.heading},"Adding dir & files to archive.")),r.a.createElement(Ye.a,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(na.a,{display:"flex",flexDirection:"row"},r.a.createElement(oe.a,{variant:"contained",color:"primary",size:"small",className:t.button,onClick:function(){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(mt({title:"Add files to archive",properties:["openFile","multiSelections"]}));case 3:if((t=a.sent).length){a.next=6;break}return a.abrupt("return",!1);case 6:e.addFiles(t),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e.alert(re(a.t0.message||a.t0));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}},r.a.createElement(aa.a,null)," Adding files"),r.a.createElement(oe.a,{variant:"contained",color:"primary",size:"small",className:t.button,onClick:function(){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(mt({title:"Add dirs to archive",properties:["openDirectory","multiSelections"]}));case 3:if((t=a.sent).length){a.next=6;break}return a.abrupt("return",!1);case 6:e.addFiles(t),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e.alert(re(a.t0.message||a.t0));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}},r.a.createElement(aa.a,null)," Adding folders")),r.a.createElement("br",null),r.a.createElement(na.a,{display:"flex",flexDirection:"row"},n))))})),oa=Object(Me.a)((function(e){return{root:{width:"100%"}}})),ia=Object(h.b)((function(e){return{store:e.ProfileNew}}),(function(e){return{changeDir:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_CHANGE_FIELD"),data:{value:t,field:"dirSave"}})}}}))((function(e){var t=oa(),a=e.store,n=e.changeDir,c=a.dirSave;return r.a.createElement("div",{className:t.root},r.a.createElement(qe.a,{fullWidth:!0,className:Object(Ge.default)(t.margin,t.w100)},r.a.createElement(Qe.a,{htmlFor:"standard-adornment-password"},"Archive save folder"),r.a.createElement($e.a,{id:"standard-adornment-password",value:c,onChange:function(e){return n(e.target.value)},startAdornment:r.a.createElement(Ze.a,{position:"start"},r.a.createElement(y.a,{"aria-label":"toggle password visibility",onClick:function(){return function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(mt({title:"Select dir default archive for save",properties:["openDirectory"],defaultPath:c}));case 3:if((e=t.sent)&&e.length){t.next=6;break}return t.abrupt("return",!1);case 6:n(e.pop()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(re(t.t0.message?t.t0.message:t.t0));case 12:case"end":return t.stop()}}),null,null,[[0,9]])}()}},r.a.createElement(tt.a,null)))})))})),la=Object(Me.a)((function(e){return{root:{width:"100%"}}})),sa=Object(h.b)((function(e){return{store:e.ProfileNew}}),(function(e){return{changeName:function(t){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_CHANGE_FIELD"),data:{value:t,field:"name"}})}}}))((function(e){var t=la(),a=e.store,n=e.changeName,c=a.name;return r.a.createElement("div",{className:t.root},r.a.createElement(kt.a,{fullWidth:!0,value:c,label:"Enter profile name",onChange:function(e){return n(e.target.value)}}))})),ua={error:ge.a},da=Object(Me.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center",width:"100%"}}})),ma=Object(h.b)((function(e){return{store:e.ProfileNew}}))((function(e){var t=da(),a=e.store.errorMessages,n=ua.error;return!!a.length&&r.a.createElement(Ue.a,{className:Object(Ge.default)(t.error),"aria-describedby":"client-snackbar",message:r.a.createElement("div",null,r.a.createElement("div",{id:"client-snackbar",className:t.message},r.a.createElement(n,{className:Object(Ge.default)(t.icon,t.iconVariant)})," Validation errors:"),a.map((function(e){return r.a.createElement("div",{key:"err_mess_".concat(e)},e)})))})})),Ea=a(292),fa=a(296),pa=Object(Me.a)((function(e){return{root:{width:"100%"}}})),ha=Object(h.b)((function(e){return{store:e.ProfileNew}}),(function(e){return{setField:function(t,a){return e({type:"".concat(g.PREFIX_NEW_PROFILE,"_CHANGE_FIELD"),data:{field:t,value:a}})}}}))((function(e){var t=pa(),a=e.store,n=e.setField,c=a.isUploadToOwnCloud;return r.a.createElement("div",{className:t.root},r.a.createElement(Ea.a,{control:r.a.createElement(fa.a,{checked:c,onChange:function(){return n("isUploadToOwnCloud",!c)},value:c,color:"primary"}),label:"Upload new archive to owncloud after create."}))})),ga=Object(Me.a)((function(e){return{root:{margin:15}}})),va=Object(h.b)((function(e){return{settings:e.Settings}}),(function(e){return{}}))((function(e){var t=ga(),a=e.settings.OwnCloudUri.length?r.a.createElement(ha,null):null;return r.a.createElement("div",{className:t.root},r.a.createElement("h1",null,"New archive profile"),r.a.createElement(ma,null),r.a.createElement(sa,null),r.a.createElement(ia,null),r.a.createElement(ca,null),a,r.a.createElement(ea,null))})),ba=Object(Me.a)((function(e){return{root:{margin:15}}})),_a=Object(h.b)((function(e){return{profile:e.ProfileNew,settings:e.Settings}}),(function(e){return{}}))((function(e){var t=ba(),a=e.settings,n=e.profile.name,c=a.OwnCloudUri.length?r.a.createElement(ha,null):null;return r.a.createElement("div",{className:t.root},r.a.createElement("h1",null,"Edit '",n,"' archive profile"),r.a.createElement(ma,null),r.a.createElement(ia,null),r.a.createElement(ca,null),c,r.a.createElement(ea,null))})),wa=Object(Me.a)((function(e){return{root:{margin:15},btn:{marginRight:3}}})),Oa=Object(h.b)((function(e){return{store:e.ArchiveCreate}}),(function(e){return{alert:function(t){return e(t)},changeStoreField:function(t,a){return e({type:"".concat(g.PREFIX_NEW_ARCHIVE,"_CHANGE_FIELD"),data:{field:t,value:a}})}}}))((function(e){var t=wa(),a=e.store,n=e.changeStoreField,c=e.alert,o=a.profileName;return r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){return Le.push("/arch/profiles")}},r.a.createElement($t.a,null)," Cancel"),r.a.createElement(oe.a,{className:t.btn,variant:"contained",color:"primary",onClick:function(){return function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n("isCreate",!0),n("report",{}),a.prev=2,e={profileName:o},a.next=6,i.a.awrap(Xe("/archive/new",e));case 6:t=a.sent,n("report",t.data),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),c(re(a.t0.message||a.t0));case 13:return a.prev=13,n("isCreate",!1),a.finish(13);case 16:case"end":return a.stop()}}),null,null,[[2,10,13,16]])}()}},r.a.createElement(zt.a,null)," Create"))})),Ia=a(157),Pa=Object(h.b)((function(e){return{store:e.ArchiveCreate}}))((function(e){var t=e.store.report,a=null;if(Object.keys(t).length){a=[];for(var n=0,c=Object.entries(t);n<c.length;n++){var o=c[n],i=Object(Ia.a)(o,2),l=i[0],s=i[1];a.push(r.a.createElement("div",{key:"report_"+l},l," : ",s))}}return r.a.createElement("div",null,a)})),ya=Object(h.b)((function(e){return{store:e.ArchiveCreate}}))((function(e){var t,a=e.store,n=a.profileName;return t=a.isCreate?r.a.createElement(xe,null):r.a.createElement("div",null,r.a.createElement(Oa,null),r.a.createElement(Pa,null)),r.a.createElement("div",null,r.a.createElement("h1",null,"Create archive. Use profile ",n),t)})),Na=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={isInit:!1,errorMessage:""},a}return Object(E.a)(t,e),Object(u.a)(t,[{key:"waitAstilectronReady",value:function(){return new Promise((function(e,t){window.document.addEventListener("astilectron-ready",e),setTimeout((function(){return t(new Error("Wait astilectron-ready deadline"))}),1e4)}))}},{key:"componentWillMount",value:function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.props.updateLocation(this.props.location),a.prev=1,a.next=4,i.a.awrap(this.waitAstilectronReady());case 4:return a.next=6,i.a.awrap(Xe("/app/init"));case 6:e=a.sent,Ae.dispatch({type:"".concat(g.PREFIX_SETTINGS,"_SET_APP_CONFIG"),data:e.data}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),t=a.t0.message||a.t0,this.setState(Object(l.a)({},this.state,{errorMessage:t})),Ae.dispatch(ce(t));case 15:return a.prev=15,this.setState(Object(l.a)({},this.state,{isInit:!0})),a.finish(15);case 18:case"end":return a.stop()}}),null,this,[[1,10,15,18]])}},{key:"componentWillReceiveProps",value:function(e){this.props.updateLocation(e.location)}},{key:"render",value:function(){var e=this.props.classes;return this.state.isInit?this.state.errorMessage?r.a.createElement("h1",{style:{color:"red"}},this.state.errorMessage):r.a.createElement("div",{className:e.root},r.a.createElement(Q,null),r.a.createElement(M,null),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:bt}),r.a.createElement(f.a,{path:"/settings",component:bt}),r.a.createElement(f.a,{path:"/arch/profiles",component:qt}),r.a.createElement(f.a,{path:"/arch/profile/new",component:va}),r.a.createElement(f.a,{path:"/arch/profile/edit",component:_a}),r.a.createElement(f.a,{path:"/arch/new",component:ya}),r.a.createElement(f.a,{path:"*",component:bt})),r.a.createElement(be,null))):r.a.createElement(xe,null)}}]),t}(n.Component),Sa=Object(p.a)(b,{withTheme:!0})(Object(f.d)(Object(h.b)(null,{updateLocation:function(e){return{type:g.PREFIX_UPDATE_LOCATION,location:e}}})(Na)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(r.a.createElement(h.a,{store:Ae},r.a.createElement(f.b,{history:Le},r.a.createElement(Sa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t){e.exports={PREFIX_NEW_ARCHIVE:"NEW_ARCHIVE",PREFIX_NEW_PROFILE:"NEW_PROFILE",PREFIX_SETTINGS:"SETTINGS",PREFIX_MENU:"MENU",PREFIX_ALERT:"ALERT",PREFIX_UPDATE_LOCATION:"UPDATE_LOCATION"}}},[[176,1,2]]]);
//# sourceMappingURL=main.635b6c19.chunk.js.map